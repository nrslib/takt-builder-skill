# fix — レビュー指摘修正 instruction テンプレート

> **用途**: レビュアーの指摘を修正する
> **使用エージェント**: coder
> **バリエーション**: 汎用 fix / supervise fix

---

## テンプレート（汎用 fix）

```
レビュアーのフィードバックに対応してください。
セッションの会話履歴を確認し、レビュアーの指摘事項を修正してください。

{カスタマイズ: 複数レビューの場合はレポート参照を追加}
**レビュー結果を確認してください:**
- AI Review: {report:ai-review.md}
- Architecture Review: {report:architecture-review.md}

{カスタマイズ: 複数レビューの場合}
**重要:** 全レビューの指摘を漏れなく修正してください。

**必須出力（見出しを含める）**
## 作業結果
- {実施内容の要約}
## 変更内容
- {変更内容の要約}
## テスト結果
- {実行コマンドと結果}
## 証拠
- {確認したファイル/検索/差分/ログの要点を列挙}
```

---

## テンプレート（supervise fix）

```
監督者からの指摘を修正してください。

監督者は全体を俯瞰した視点から問題を指摘しています。
優先度の高い項目から順に対応してください。

**必須出力（見出しを含める）**
## 作業結果
- {実施内容の要約}
## 変更内容
- {変更内容の要約}
## テスト結果
- {実行コマンドと結果}
## 証拠
- {確認したファイル/検索/差分/ログの要点を列挙}
```

---

## 必須出力セクションの統一

すべての fix 系ムーブメントは以下の 4 セクションを必須出力とする:

| セクション | 目的 |
|-----------|------|
| 作業結果 | 何をしたかの要約 |
| 変更内容 | 具体的な変更 |
| テスト結果 | 検証結果 |
| 証拠 | 確認した事実（ファイル、検索、差分） |

---

## 典型的な rules

```yaml
# 汎用 fix
rules:
  - condition: 修正完了
    next: reviewers
  - condition: 判断できない、情報不足
    next: plan

# supervise fix
rules:
  - condition: 監督者の指摘に対する修正が完了した
    next: supervise
  - condition: 修正を進行できない
    next: plan
```
